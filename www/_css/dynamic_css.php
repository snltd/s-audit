<?php
	
	// This small script generates a stylesheet presenting solid and boxed
	// table cells in the same way as the inline style generated by the
	// colours::solid() and colours::box() static functions.

	// When you colour cells which can only have a box or solid colouring,
	// use the classes boxcol and solidcol. If you use both, colour the
	// field with the class, and the box with the inline style functions.

	require_once("../_lib/colours.php");

	header("Content-Type: text/css");

	foreach(colours::$cols as $name=>$hex) {
		echo "\ntd.solid$name {\n  background: ${hex}\n}\n"
		. "\ntd.box$name {\n  padding: 0px;\n  border: 2px solid ${hex}\n}\n";

	}

	// These colours are for filesystem audits. There are two class types,
	// solidcol and smallcol, where "col" is the filesystem type, such as
	// ufs or hsfs. Solidcol is used in the "root fs" column, smallcol in
	// the fs column

	$smallrow = "";

	foreach(colours::$fs_cols as $name=>$hex) {
		echo "\ntd.solid${name}, td.small$name {\n  background: ${hex}\n}\n";

		$smallrow .= "td.small${name}, ";
	}

	// Web server and DB server colours only come in small

	foreach(array_merge(colours::$db_cols, colours::$ws_cols) as
	$name=>$hex) {
		echo "\ntd.small$name {\n  background: ${hex}\n}\n";
		$smallrow .= "td.small${name}, ";
	}

	echo "\n", preg_replace("/, $/", " {", $smallrow);
	echo "\n  font-size: x-small;\n  text-align: left;\n}\n";

	// storage types aren't left-aligned. Just coloured and small

	foreach(colours::$stor_cols as $name=>$hex) {
		echo "\ntd.small$name {\n  background: ${hex};",
		"\n  font-size: x-small\n}\n";
	}

?>
